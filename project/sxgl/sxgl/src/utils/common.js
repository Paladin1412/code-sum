/**
 * @description: 模板组件通用配置静态资源
 * @author：胡曦晓
 * @email: xxhu4@iflytek.com
 * @time:  2018/7/10
 */
export default {
  fontObj: { // 设置文字几项
    show: true, // 是否显示
    color: '#666', // 字体颜色
    fontFamily: 'Microsoft YaHei', // 字体类型
    fontSize: 24, // 字体大小
    fontArr: [] //  有italic即斜体,有bold即加粗
  },
  animation: {
    show: false, // 是否开启轮播
    animation: true, // 是否开启
    animationEasing: 'quinticInOut', // 过渡效果
    animationThreshold: 1000, // 阀值,当大于这个值时会关闭动画
    animationDuration: 1000, // 动画时长
    animationDelay: 0, // 逐条时用
    type: '1', // 1全部 2逐条
    key: 1, // 定时刷新用
    timeout: 3000 // 轮播间隔时间
  },
  currency: { // 通用配置
    height: 200,
    width: 300,
    left: 100,
    top: 50,
    name: '未命名', // 组件名称
    dashboardId: '', // 模板id
    whereFieldType: '', // where字段类型
    handwriteWhere: '', // where表达式
    oriHandwriteWhere: '', // 原始表达式
    datasetInfo: null, // 图表关联的数据集信息
    selectedDimensionField: [], // 当前组件的维度
    selectedMeasureField: [], // 当前组件的度量
    selectedColorField: [], // 当前组件颜色度量字段
    selectedSizeField: [], // 当前组件尺寸度量字段
    selectedNumberField: [], // 筛选器选择的数值字段
    selectedDateField: [], // 筛选器选择的日期字段
    selectedDashField: [], // 模板组件选择度量字段
    lineHeight: 1,
    fontFamily: 'Microsoft YaHei', // 字体类型
    fontSize: 14,
    color: '#666',
    fontStyle: 'normal', // 字体风格 正常:'normal' 斜体字:'italic' 倾斜:'oblique'
    fontWeight: 400, // 字体粗细 100~900
    backgroundColor: 'auto', // 背景色
    borderStyle: 'solid', // 边框样式  点:dotted 实:solid 虚:dashed
    borderColor: '#000', // 边框颜色
    borderWidth: 0, // 边框线宽
    borderRadius: 0, // 边框圆角
    borderSenior: '' // 高级边框样式
  },
  visualMap: {
    itemWidth: 10,
    itemHeight: 120,
    min: 1000,
    max: 6000,
    left: 'right', // 'left', 'center', 'right'
    top: 'top', // 'top', 'middle', 'bottom'
    text: ['低', '高'], // 文本，默认为数值文本
    calculable: false, // 拖拽手柄是否显示
    dimension: 2, // 默认那个维度映射到图上
    inRange: {
      color: ['#7AB7F7', '#b45ef7']
    },
    outOfRange: {
      color: ['rgba(255, 255, 255, 0)']
    },
    orient: 'horizontal', // 水平horizontal 垂直vertical
    textStyle: {
      color: '#666', // 字体颜色
      fontFamily: 'Microsoft YaHei', // 字体类型
      fontSize: 12, // 字体大小
      fontArr: [] // 有italic即斜体,有bold即加粗
    }
  },
  colors: [
    {color: '#c23531'},
    {color: '#2f4554'},
    {color: '#61a0a8'},
    {color: '#d48265'},
    {color: '#91c7ae'},
    {color: '#749f83'},
    {color: '#ca8622'},
    {color: '#bda29a'},
    {color: '#6e7074'},
    {color: '#546570'},
    {color: '#c4ccd3'}
  ],
  title: { // 标题
    show: false, // 是否显示标题
    text: '标题', // 标题名称
    left: 'left', // 水平对其方式'left'  'center'  'right'
    top: 'top', // 'top' 'middle'  'bottom'
    backgroundColor: 'rgba(255, 255, 255, 0)', // 标题背景色
    borderColor: '#000', // 边框颜色
    borderWidth: 0, // 边框线宽
    borderStyle: 'solid', // 边框样式  点:dotted 实:solid 虚:dashed
    borderRadius: 0, // 边框圆角
    textStyle: {
      color: '#666', // 字体颜色
      fontFamily: 'Microsoft YaHei', // 字体类型
      fontSize: 18, // 字体大小
      fontArr: [] // 有italic即斜体,有bold即加粗
    }
  },
  legend: { // 图例
    type: 'scroll', // 滚动显示,便于显示较多图例,写死即可
    padding: [5, 10], // padding
    show: true, // 是否显示图例组件
    selectedMode: true, // 是否可点击
    orient: 'horizontal', // 放置方式水平'horizontal'   垂直'vertical'
    left: 'left', // 对齐方式 left', 'center', 'right'
    top: 'top', // 垂直对齐方式'top', 'middle', 'bottom'
    backgroundColor: 'rgba(255, 255, 255, 0)', // 背景色
    borderColor: '#000', // 边框颜色
    borderWidth: 0, // 边框线宽
    borderRadius: 0, // 边框圆角
    textStyle: {
      color: '#666', // 字体颜色
      fontFamily: 'Microsoft YaHei', // 字体类型
      fontSize: 14, // 字体大小
      fontArr: [] // 有italic即斜体,有bold即加粗
    }
  },
  tooltip: { // 提示框
    show: true, // 是否显示
    axisPointer: {
      type: 'shadow'
    },
    backgroundColor: 'rgba(50,50,50,0.7)', // 背景色
    borderColor: '#333', // 边框的颜色
    borderWidth: 0, // 边框宽
    borderRadius: 5, // 边框圆角
    padding: 5, // 提示框padding
    textStyle: {
      align: 'left',
      color: '#fff', // 字体颜色
      fontFamily: 'Microsoft YaHei', // 字体类型
      fontSize: 14, // 字体大小
      fontArr: [] // 有italic即斜体,有bold即加粗
    }
  },
  grid: {
    show: false, // 是否显示直角坐标系网格,写死在x/yAxis的splitLine.show中配置
    containLabel: true, // 区域是否包含坐标轴的刻度标签
    left: '10px', // 图形距离容器上下左右的位置
    right: '40px',
    top: '55px',
    bottom: '20px'
  },
  xyAxis: { // 自定义基础参数配置
    boundaryGap: '2', // 是否留白 1留 2不留
    splitNumber: 5, // 分隔线数,只适用于度量
    fontFamily: 'Microsoft YaHei', // 字体系列
    color: '#333', // 字体颜色
    fontSize: 12, // 字体大小
    fontArr: [], // 有italic即斜体,有bold即加粗
    align: 'center', // 标注是否居中
    rotate: 0, // 旋转,只用于维度子段
    margin: 8, // 标注与轴线的距离,只用于维度子段
    axisLineShow: true, // 是否可以显示轴线
    axisLineObj: { // 轴线
      borderStyle: 'solid', // 边框样式  点:dotted 实:solid 虚:dashed
      borderColor: '#333', // 边框颜色
      borderWidth: 1 // 边框线宽
    },
    splitLineShow: true, // 是否可以显示网格线
    splitLineObj: { // 网格
      borderStyle: 'solid', // 边框样式  点:dotted 实:solid 虚:dashed
      borderColor: '#333', // 边框颜色
      borderWidth: 1 // 边框线宽
    }
  },
  dataConversion (data, re, itemType) { // 数据转换函数 数据,图形类型,返回值类型,图表类型
    let [series, xyAxis] = [[], []]
    const system = {
      '1101': true,
      '1103': true,
      '1201': true,
      '1203': true,
      '1301': true,
      '1302': true,
      '1303': true,
      '1501': true
    }
    const pie = {
      '1401': true,
      '1402': true
    }
    const gauge = {
      '1601': true
    }
    if (system[itemType]) { // 坐标系类型的
      if (re === 'series') {
        for (var i = 1; i < data.columns.length; i++) {
          let arr = []
          for (let j = 0; j < data.rows.length; j++) {
            arr.push(data.rows[j][data.columns[i]])
          }
          series.push({
            name: data.columns[i],
            itemType: itemType, // 存储图表类型
            data: arr,
            barCategoryGap: 10,
            label: {
              show: true, // 节点是否显示标注
              position: 'top', // 标注位置  柱状图上:top  中:'inside' 下:insideBottom  条形图上:right  中:'inside' 下:insideLeft
              color: 'auto', // 标注颜色
              fontFamily: 'Microsoft YaHei', // 字体类型
              fontSize: 12, // 字体大小
              fontArr: [] // 有italic即斜体,有bold即加粗
            }
            /* animation: true,
            animationEasing: 'elasticOut',
            animationDuration: 1000,
            animationDelay: function (idx) {
              return idx * 100
            } */
          })
          if (itemType === '1101' || itemType === '1103') { // 柱状图
            series[series.length - 1].type = 'bar'
            series[series.length - 1].label.position = 'top'
            if (itemType === '1103') { // 堆叠柱状图
              series[series.length - 1].stack = '堆叠'
              series[series.length - 1].label.position = 'insideTop'
              series[series.length - 1].label.color = '#fff'
            }
          } else if (itemType === '1201' || itemType === '1203') { // 条形图
            series[series.length - 1].type = 'bar'
            series[series.length - 1].label.position = 'right'
            if (itemType === '1203') { // 堆叠柱状图
              series[series.length - 1].stack = '堆叠'
              series[series.length - 1].label.position = 'insideRight'
              series[series.length - 1].label.color = '#fff'
            }
          } else if (itemType === '1301' || itemType === '1302' || itemType === '1303') { // 折线图
            series[series.length - 1].type = 'line'
            series[series.length - 1].label.position = 'top'
            series[series.length - 1].lineStyle = {
              width: 2
            }
            series[series.length - 1].symbol = 'emptyCircle' // 默认空心点'emptyCircle'   还有节点形状 实心点'circle', 方形 'roundRect', 三角形'triangle', 菱形'diamond', 标形'pin', 反标形'arrow'
            series[series.length - 1].symbolSize = 5 // 端点大小
            if (itemType === '1302') {
              series[series.length - 1].areaStyle = {}
            } else if (itemType === '1303') {
              series[series.length - 1].areaStyle = {}
              series[series.length - 1].stack = '堆积'
            }
          } else if (itemType === '1501') { // 散点
            series[series.length - 1].type = 'scatter'
            series[series.length - 1].label.position = 'top'
            series[series.length - 1].symbolSize = 10
          }
        }
        return series
      } else if (re === 'xyAxis') {
        let i = data.columns[0]
        for (let j = 0; j < data.rows.length; j++) {
          xyAxis.push(data.rows[j][i])
        }
        return xyAxis
      }
    } else if (pie[itemType]) { // 饼图
      let arr = []
      for (let j = 0; j < data.rows.length; j++) {
        arr.push({value: data.rows[j][data.columns[1]], name: data.rows[j][data.columns[0]]})
      }
      series.push({
        name: data.columns[i],
        itemType: itemType, // 存储图表类型
        data: arr,
        type: 'pie',
        startAngle: 90, // 起始角度,0~360
        radius0: 10, // 第一项为内半径,第二项为外半径
        label: {
          show: true, // 节点是否显示标注
          position: 'outside', // 标注位置  外:'outside'   内:'inside'
          color: 'auto', // 标注颜色
          fontFamily: 'Microsoft YaHei', // 字体类型
          fontSize: 12, // 字体大小
          fontArr: [] // 有italic即斜体,有bold即加粗
        },
        labelLine: {
          show: true,
          length: 10,
          length2: 0,
          type: '1' // 自定义用于过滤的参数1 为直线,2 为折线
        }
      })
      if (itemType === '1402') { // 丁格尔玫瑰图
        series[0].roseType = 'radius' // 是否展示成丁格尔图  半径模式:'radius' 面积模式:'area'
      }
      return series
    } else if (gauge[itemType]) { // 仪表
      series.push({
        name: data.columns[0],
        dataDefaultShow: true, // 自定义参数,是否开启默认值
        dataDefaultMax: 100, // 自定义参数,默认字段最大值
        dataDefaultMin: 0, // 自定义参数,默认字段最小值
        dataRangeArr: [0, 100], // 自定义参数,数值范围
        dataCompanyStr: '%', // 数值单位
        max: 100, // 模板最大值
        min: 0, // 模板最小值
        itemType: itemType, // 存储图表类型
        type: 'gauge',
        radius: 70, // 仪表小圆半径 百分比
        startAngle: 225, // 起始角度
        endAngle: -45, // 结束角度
        detail: {
          formatter: '{value}'
        },
        axisLine: {
          show: true,
          lineStyle: {
            width: 30,
            color: [
              [0.3, '#67e0e3'],
              [0.7, '#37a2da'],
              [1, '#fd666d']
            ]
          }
        },
        axisLabel: {
          show: true,
          distance: '-50', // 与刻度线的距离,内为5,外为-50
          fontArr: [], // 有italic即斜体,有bold即加粗
          fontFamily: 'Microsoft YaHei', // 字体类型
          fontSize: 12, // 字体大小
          color: 'auto' // 文字颜色
        },
        data: [{value: 50, name: data.columns[0]}]
      })
      return series
    }
  },
  data: {
    '3': {
      columns: ['日期', '访问用户', '下单用户', '年龄'],
      rows: [
        { '日期': '5-22', '访问用户': 32371, '下单用户': 19810, '年龄': 19 },
        { '日期': '5-23', '访问用户': 12328, '下单用户': 14398, '年龄': 10 },
        { '日期': '5-24', '访问用户': 22381, '下单用户': 22910, '年龄': 25 }
      ]
    },
    '2': {
      columns: ['日期', '访问用户', '下单用户'],
      rows: [
        { '日期': '5-22', '访问用户': 32371, '下单用户': 19810 },
        { '日期': '5-23', '访问用户': 12328, '下单用户': 14398 },
        { '日期': '5-24', '访问用户': 22381, '下单用户': 22910 }
      ]
    },
    '1': {
      columns: ['日期', '访问用户'],
      rows: [
        { '日期': '1/1', '访问用户': 1393 },
        { '日期': '1/2', '访问用户': 3530 },
        { '日期': '1/3', '访问用户': 2923 },
        { '日期': '1/4', '访问用户': 5923 }
      ]
    },
    '0': {
      columns: ['完成率'],
      rows: [
        {'完成率': 50}
      ]
    }
  }
}
